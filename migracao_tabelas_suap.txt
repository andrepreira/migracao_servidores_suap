Tabelas que preciso preencher para migração de um servidor


lista de tabelas

pessoa, pessoa_fisica, suap_funcionario, servidor, comum_vinculo, rh_papel

Tabela pessoa 

CREATE TABLE public.pessoa (
	id int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE),
	nome varchar(200) NOT NULL,
	nome_usual varchar(30) NOT NULL,
	nome_social varchar(200) NOT NULL,
	nome_registro varchar(200) NOT NULL,
	email varchar(254) NOT NULL,
	email_secundario varchar(254) NOT NULL,
	website varchar(200) NOT NULL,
	excluido bool NOT NULL,
	natureza_juridica varchar(5) NOT NULL,
	sistema_origem varchar(50) NOT NULL,
	uuid uuid NOT NULL,
	search_fields_optimized varchar(400) NOT NULL,
	CONSTRAINT pessoa_pkey PRIMARY KEY (id),
	CONSTRAINT pessoa_uuid_key UNIQUE (uuid)
);

Tabela auth_user

CREATE TABLE public.auth_user (
	id int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE),
	"password" varchar(128) NOT NULL,
	last_login timestamptz NULL,
	is_superuser bool NOT NULL,
	username varchar(150) NOT NULL,
	first_name varchar(150) NOT NULL,
	last_name varchar(150) NOT NULL,
	email varchar(254) NOT NULL,
	is_staff bool NOT NULL,
	is_active bool NOT NULL,
	date_joined timestamptz NOT NULL,
	login_attempts int4 NOT NULL,
	eh_servidor bool NOT NULL,
	eh_aluno bool NOT NULL,
	eh_prestador bool NOT NULL,
	eh_docente bool NOT NULL,
	eh_tecnico_administrativo bool NOT NULL,
	uuid uuid NOT NULL,
	forcar_troca_senha bool NOT NULL,
	data_solicitacao_forcar_troca_senha date NULL,
	CONSTRAINT auth_user_pkey PRIMARY KEY (id),
	CONSTRAINT auth_user_username_key UNIQUE (username),
	CONSTRAINT auth_user_uuid_key UNIQUE (uuid)
);
CREATE INDEX auth_user_username_6821ab7c_like ON public.auth_user USING btree (username varchar_pattern_ops);

Tabela pessoa_fisica

CREATE TABLE public.pessoa_fisica (
	pessoa_ptr_id int4 NOT NULL,
	user_id int4 NULL,
	cpf varchar(20) NULL,
	passaporte varchar(50) NOT NULL,
	documento_identificador varchar(50) NULL,
	sexo varchar(1) NULL,
	genero varchar(2) NULL,
	grupo_sanguineo varchar(2) NULL,
	fator_rh varchar(8) NULL,
	titulo_numero varchar(12) NULL,
	titulo_zona varchar(3) NULL,
	titulo_secao varchar(4) NULL,
	titulo_uf varchar(2) NULL,
	titulo_data_emissao date NULL,
	rg varchar(20) NULL,
	rg_orgao varchar(10) NULL,
	rg_data date NULL,
	rg_uf varchar(2) NULL,
	nascimento_municipio_id int4 NULL,
	nascimento_data date NULL,
	nome_mae varchar(100) NULL,
	nome_pai varchar(100) NULL,
	foto varchar(100) NULL,
	cnh_carteira varchar(10) NULL,
	cnh_registro varchar(10) NULL,
	cnh_categoria varchar(10) NULL,
	cnh_emissao date NULL,
	cnh_uf varchar(2) NULL,
	cnh_validade date NULL,
	ctps_numero varchar(20) NULL,
	ctps_uf varchar(2) NULL,
	ctps_data_prim_emprego date NULL,
	ctps_serie varchar(10) NULL,
	pis_pasep varchar(20) NULL,
	pagto_banco_id int4 NULL,
	pagto_agencia varchar(20) NULL,
	pagto_ccor varchar(20) NULL,
	pagto_ccor_tipo varchar(2) NULL,
	username varchar(50) NULL,
	tem_digital_fraca bool NOT NULL,
	senha_ponto varchar(128) NOT NULL,
	data_obito date NULL,
	"template" bytea NULL,
	template_importado_terminal bool NOT NULL,
	estado_civil_id int4 NULL,
	raca_id int4 NULL,
	nacionalidade int4 NULL,
	pais_origem_id int4 NULL,
	deficiencia_id int4 NULL,
	lattes varchar(200) NOT NULL,
	eh_servidor bool NOT NULL,
	eh_aluno bool NOT NULL,
	eh_prestador bool NOT NULL,
	CONSTRAINT pessoa_fisica_pkey PRIMARY KEY (pessoa_ptr_id),
	CONSTRAINT pessoa_fisica_user_id_key UNIQUE (user_id),
	CONSTRAINT pessoa_fisica_username_key UNIQUE (username),
	CONSTRAINT pessoa_fisica_deficiencia_id_03aaa2d5_fk_rh_deficiencia_id FOREIGN KEY (deficiencia_id) REFERENCES public.rh_deficiencia(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT pessoa_fisica_estado_civil_id_fe2518f9_fk_comum_estadocivil_id FOREIGN KEY (estado_civil_id) REFERENCES public.comum_estadocivil(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT pessoa_fisica_nascimento_municipio_96f4fb76_fk_comum_mun FOREIGN KEY (nascimento_municipio_id) REFERENCES public.comum_municipio(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT pessoa_fisica_pagto_banco_id_73cf1002_fk_rh_banco_id FOREIGN KEY (pagto_banco_id) REFERENCES public.rh_banco(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT pessoa_fisica_pais_origem_id_0b0809c4_fk_pais_id FOREIGN KEY (pais_origem_id) REFERENCES public.pais(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT pessoa_fisica_pessoa_ptr_id_cd9a90e9_fk_pessoa_id FOREIGN KEY (pessoa_ptr_id) REFERENCES public.pessoa(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT pessoa_fisica_raca_id_e658d0b9_fk_comum_raca_id FOREIGN KEY (raca_id) REFERENCES public.comum_raca(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT pessoa_fisica_user_id_13d13bcf_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED
);


Tabela suap_funcionario

CREATE TABLE public.suap_funcionario (
	pessoafisica_ptr_id int4 NOT NULL,
	setor_id int4 NULL,
	setor_funcao_id int4 NULL,
	setor_lotacao_id int4 NULL,
	CONSTRAINT suap_funcionario_pkey PRIMARY KEY (pessoafisica_ptr_id),
	CONSTRAINT suap_funcionario_pessoafisica_ptr_id_c2d85b5d_fk_pessoa_fi FOREIGN KEY (pessoafisica_ptr_id) REFERENCES public.pessoa_fisica(pessoa_ptr_id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT suap_funcionario_setor_funcao_id_285e3c22_fk_setor_id FOREIGN KEY (setor_funcao_id) REFERENCES public.setor(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT suap_funcionario_setor_id_bfb34ebe_fk_setor_id FOREIGN KEY (setor_id) REFERENCES public.setor(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT suap_funcionario_setor_lotacao_id_b29d9143_fk_setor_id FOREIGN KEY (setor_lotacao_id) REFERENCES public.setor(id) DEFERRABLE INITIALLY DEFERRED
);

Tabela servidor

CREATE TABLE public.servidor (
	funcionario_ptr_id int4 NOT NULL,
	matricula varchar(20) NOT NULL,
	pessoa_fisica_id int4 NOT NULL,
	matricula_crh varchar(20) NOT NULL,
	matricula_sipe varchar(20) NOT NULL,
	matricula_anterior varchar(20) NULL,
	qtde_depend_ir int4 NULL,
	nivel_padrao varchar(4) NULL,
	opera_raio_x bool NOT NULL,
	num_processo_aposentadoria varchar(30) NULL,
	numerador_prop_aposentadoria varchar(20) NULL,
	denominador_prop_aposentadoria varchar(20) NULL,
	data_cadastro_siape date NULL,
	data_inicio_servico_publico date NULL,
	data_inicio_exercicio_na_instituicao date NULL,
	data_posse_na_instituicao date NULL,
	data_posse_no_cargo date NULL,
	data_inicio_exercicio_no_cargo date NULL,
	data_fim_servico_na_instituicao date NULL,
	email_siape varchar(254) NOT NULL,
	email_institucional varchar(254) NOT NULL,
	email_academico varchar(254) NOT NULL,
	email_google_classroom varchar(254) NOT NULL,
	alterado_em timestamptz NOT NULL,
	identificacao_unica_siape varchar(20) NULL,
	codigo_vaga varchar(7) NULL,
	cargo_classe_id int4 NULL,
	cargo_emprego_id int4 NULL,
	cargo_emprego_area_id int4 NULL,
	cargo_emprego_data_ocupacao date NULL,
	cargo_emprego_data_saida date NULL,
	situacao_id int4 NOT NULL,
	jornada_trabalho_id int4 NULL,
	funcao_id int4 NULL,
	funcao_atividade_id int4 NULL,
	funcao_opcao bool NULL,
	funcao_codigo varchar(20) NULL,
	funcao_data_ocupacao date NULL,
	funcao_data_saida date NULL,
	regime_juridico_id int4 NULL,
	nivel_escolaridade_id int4 NULL,
	setor_lotacao_data_ocupacao date NULL,
	data_exclusao_instituidor date NULL,
	titulacao_id int4 NULL,
	setor_exercicio_id int4 NULL,
	eh_docente bool NULL,
	eh_tecnico_administrativo bool NULL,
	data_ultima_atualizacao_webservice timestamptz NULL,
	CONSTRAINT servidor_matricula_key UNIQUE (matricula),
	CONSTRAINT servidor_pkey PRIMARY KEY (funcionario_ptr_id),
	CONSTRAINT servidor_cargo_classe_id_679871bc_fk_rh_cargoclasse_id FOREIGN KEY (cargo_classe_id) REFERENCES public.rh_cargoclasse(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT servidor_cargo_emprego_area_i_c9956158_fk_rh_cargoe FOREIGN KEY (cargo_emprego_area_id) REFERENCES public.rh_cargoempregoarea(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT servidor_cargo_emprego_id_fa51567e_fk_cargo_emprego_id FOREIGN KEY (cargo_emprego_id) REFERENCES public.cargo_emprego(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT servidor_funcao_atividade_id_f899f139_fk_atividade_id FOREIGN KEY (funcao_atividade_id) REFERENCES public.atividade(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT servidor_funcao_id_a6305a45_fk_funcao_id FOREIGN KEY (funcao_id) REFERENCES public.funcao(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT servidor_funcionario_ptr_id_496e00a8_fk_suap_func FOREIGN KEY (funcionario_ptr_id) REFERENCES public.suap_funcionario(pessoafisica_ptr_id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT servidor_jornada_trabalho_id_49d81f77_fk_jornada_trabalho_id FOREIGN KEY (jornada_trabalho_id) REFERENCES public.jornada_trabalho(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT servidor_nivel_escolaridade_i_73c43acf_fk_nivel_esc FOREIGN KEY (nivel_escolaridade_id) REFERENCES public.nivel_escolaridade(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT servidor_pessoa_fisica_id_7291ee54_fk_pessoa_fi FOREIGN KEY (pessoa_fisica_id) REFERENCES public.pessoa_fisica(pessoa_ptr_id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT servidor_regime_juridico_id_a76c776b_fk_regime_juridico_id FOREIGN KEY (regime_juridico_id) REFERENCES public.regime_juridico(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT servidor_setor_exercicio_id_6634e058_fk_setor_id FOREIGN KEY (setor_exercicio_id) REFERENCES public.setor(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT servidor_situacao_id_723cdee5_fk_situacao_id FOREIGN KEY (situacao_id) REFERENCES public.situacao(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT servidor_titulacao_id_15edce16_fk_titulacao_id FOREIGN KEY (titulacao_id) REFERENCES public.titulacao(id) DEFERRABLE INITIALLY DEFERRED
);

Tabela comum_vinculo

CREATE TABLE public.comum_vinculo (
	id int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE),
	user_id int4 NULL,
	pessoa_id int4 NOT NULL,
	setor_id int4 NULL,
	tipo_relacionamento_id int4 NOT NULL,
	id_relacionamento int4 NOT NULL,
	"search" text NOT NULL,
	CONSTRAINT comum_vinculo_id_relacionamento_check CHECK ((id_relacionamento >= 0)),
	CONSTRAINT comum_vinculo_pkey PRIMARY KEY (id),
	CONSTRAINT comum_vinculo_tipo_relacionamento_id_i_0e7c54cb_uniq UNIQUE (tipo_relacionamento_id, id_relacionamento),
	CONSTRAINT comum_vinculo_pessoa_id_18e4220f_fk_pessoa_id FOREIGN KEY (pessoa_id) REFERENCES public.pessoa(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT comum_vinculo_setor_id_044c65d1_fk_setor_id FOREIGN KEY (setor_id) REFERENCES public.setor(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT comum_vinculo_tipo_relacionamento__6c7b7ef9_fk_django_co FOREIGN KEY (tipo_relacionamento_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT comum_vinculo_user_id_07ee23af_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED
);

Tabela rh_papel

CREATE TABLE public.rh_papel (
	id int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 START 1 CACHE 1 NO CYCLE),
	pessoa_id int4 NOT NULL,
	tipo_papel varchar(255) NOT NULL,
	descricao text NOT NULL,
	detalhamento text NOT NULL,
	portaria varchar(50) NOT NULL,
	data_inicio date NULL,
	data_fim date NULL,
	setor_suap_id int4 NULL,
	papel_content_type_id int4 NOT NULL,
	papel_content_id int4 NOT NULL,
	CONSTRAINT rh_papel_papel_content_id_check CHECK ((papel_content_id >= 0)),
	CONSTRAINT rh_papel_pessoa_id_papel_content__43a4e0a4_uniq UNIQUE (pessoa_id, papel_content_type_id, papel_content_id, data_inicio),
	CONSTRAINT rh_papel_pkey PRIMARY KEY (id),
	CONSTRAINT rh_papel_papel_content_type_i_10aff426_fk_django_co FOREIGN KEY (papel_content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT rh_papel_pessoa_id_3779bea4_fk_pessoa_fisica_pessoa_ptr_id FOREIGN KEY (pessoa_id) REFERENCES public.pessoa_fisica(pessoa_ptr_id) DEFERRABLE INITIALLY DEFERRED,
	CONSTRAINT rh_papel_setor_suap_id_76e22d7d_fk_setor_id FOREIGN KEY (setor_suap_id) REFERENCES public.setor(id) DEFERRABLE INITIALLY DEFERRED
);

